<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js" integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg==" crossorigin=""></script>
    <style>
      html, body, #mapId {width: 100vw; height: 100vh;} body {padding: 0; margin: 0;}
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  </head>
  <body>
    <div id="mapId"></div>
    <div id="location"></div>
  <script src="dist/leaflet-realtime.min.js"></script>
  <script>
    var map = L.map('mapId'),
      realtime = L.realtime({
          url: 'https://wanderdrone.appspot.com/',
          crossOrigin: true,
          type: 'json'
      }, {
          interval: 3 * 1000
      }).addTo(map);

    L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/light-v9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWlrbWFrczk3IiwiYSI6IlVBV19fY0EifQ.JZ8BaxeLvHWvls09i48pPw', {
      maxZoom: 18
    }).addTo(map);
    realtime.on('update', function() {
        map.fitBounds(realtime.getBounds(), {maxZoom: 3});
    });

    function getLocation() {
      if (navigator.geolocation) {
          navigator.geolocation.watchPosition(showPosition);
      } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }
    function showPosition(position) {
        document.getElementById('location').innerHTML = "Latitude: " + position.coords.latitude +
        "<br>Longitude: " + position.coords.longitude;
    }

    setInterval(getLocation, 2000)
  </script>
  </body>
</html>
